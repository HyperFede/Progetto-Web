<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dettaglio Prodotto</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/pages/modifcaProdotto.css">
</head>

<body>
    <header class="py-3 mb-4 border-bottom d-none d-lg-block custom-header">
        <div class="container d-flex flex-wrap justify-content-between align-items-center">
            <img src="assets/Logo.svg" alt="Logo" class="me-2" style="height: 80px;">

            <ul class="nav nav-pills align-items-center">
                <li class="nav-item dropdown">
                    <a class="nav-link nav-link-custom dropdown-toggle" href="#" id="userAccountDropdown" role="button"
                        data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-person-circle fs-3 me-2"></i> Username
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userAccountDropdown">
                        <li><a class="dropdown-item" href="dashboardArtigiano.html"><i
                                    class="bi bi-person-workspace me-2"></i>IL MIO PROFILO</a></li>
                        <li><a class="dropdown-item" href="prodottiArtigiano.html"><i
                                    class="bi bi-box2-heart-fill me-2"></i>I MIEI PRODOTTI</a></li>
                        <li><a class="dropdown-item" href="ordiniRicevuti.html"><i
                                    class="bi bi-receipt-cutoff me-2"></i>ORDINI RICEVUTI</a></li>
                        <li><a class="dropdown-item" href="leMieSegnalazioni.html"><i
                                    class="bi bi-flag-fill me-2"></i>LE MIE SEGNALAZIONI</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="logout.html"><i class="bi bi-box-arrow-right me-2"></i>LOGOUT</a></li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a href="aggiungiProdotto.html" class="btn add-product-btn">
                        <i class="bi bi-plus-circle-fill me-1"></i> Inserisci Prodotto
                    </a>
                </li>
            </ul>
        </div>
    </header>

    <!-- Navbar per schermi < lg -->
    <nav class="py-3 navbar bg-body-tertiary fixed-top d-lg-none">
        <div class="container-fluid d-flex justify-content-between align-items-center">
            <button class="navbar-toggler me-auto" type="button" data-bs-toggle="offcanvas"
                data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <img src="assets/Logo.svg" alt="Logo" class="me-2" style="height: 80px;">

            <div class="ms-auto"></div>
            <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"
                aria-labelledby="offcanvasNavbarLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Dashboard Artigiano</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <div class="dashboard-sidebar-offcanvas d-flex flex-column h-100">
                        <ul class="nav nav-pills flex-column mb-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="dashboardArtigiano.html">
                                    <i class="bi bi-person-workspace me-2"></i>IL MIO PROFILO
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" aria-current="page" href="prodottiArtigiano.html"> <i
                                        class="bi bi-box2-heart-fill me-2"></i>I MIEI PRODOTTI
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="ordiniRicevuti.html"> <i
                                        class="bi bi-receipt-cutoff me-2"></i>ORDINI RICEVUTI
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="leMieSegnalazioni.html"> <i
                                        class="bi bi-flag-fill me-2"></i>SEGNALAZIONI
                                </a>
                            </li>
                        </ul>
                        <hr class="sidebar-divider">
                        <button class="btn logout-btn w-100">
                            <i class="bi bi-box-arrow-right me-2" href="logout.html"></i>LOGOUT
                        </button>
                    </div>
                </div>
            </div>
            <ul class="nav nav-pills align-items-center">
                <li class="nav-item">
                    <a href="aggiungiProdotto.html" class="btn add-product-btn">
                        <i class="bi bi-plus-circle-fill"></i>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <main class="container my-4 pt-lg-0">
        <div class="row mb-3">
            <div class="col">
                <a href="prodottiArtigiano.html" class="back-to-search-link">
                    <i class="bi bi-arrow-left-circle me-1"></i>
                    Torna ai prodotti
                </a>
            </div>
        </div>

        <div class="row mb-4">
<form id="editProductForm" class="container my-4">
  <div class="row gx-4 gy-3">
    <!-- IMAGE COLUMN -->
    <div class="col-md-6">
      <div class="product-detail-image-container position-relative border rounded"
           style="height: 300px; background: #f0f2f5; overflow: hidden;">
        <!-- current image or placeholder -->
        <div class="current-image-display 
                    d-flex align-items-center justify-content-center 
                    w-100 h-100">
          <span>IMG</span>
        </div>

        <!-- camera-overlay on hover -->
        <div class="add-image-trigger 
                    position-absolute top-0 start-0 
                    d-flex flex-column align-items-center justify-content-center 
                    w-100 h-100 text-white">
          <i class="bi bi-camera-fill fs-1"></i>
          <span class="mt-2 small">Modifica</span>
        </div>

        <!-- transparent file-input (always on top of the container) -->
        <input type="file"
               id="productImageInput"
               name="image"
               accept="image/*" />

        <!-- delete-overlay (hidden until JS shows it) -->
        <div class="image-action-overlay 
                    position-absolute top-0 start-0 
                    w-100 h-100 d-flex align-items-center justify-content-center"
             style="display: none;">
          <button type="button"
                  class="btn btn-danger btn-remove-image"
                  id="removeImageBtn">
            <i class="bi bi-trash me-1"></i>Rimuovi
          </button>
        </div>
      </div>
    </div>

    <!-- FIELDS COLUMN -->
    <div class="col-md-6">
      <div class="mb-3">
        <h5 class="mb-2">Categoria</h5>
        <select class="form-select"
                id="productCategory"
                name="category"
                required>
          <option selected disabled value="">Scegli una categoria...</option>
          <option value="Quadri">Quadri</option>
          <option value="Sculture">Sculture</option>
          <option value="Erboristeria">Erboristeria</option>
          <option value="Creme">Creme</option>
          <option value="Mobili e arredamento">Mobili e arredamento</option>
          <option value="Collane e bracciali">Collane e bracciali</option>
        </select>
      </div>

      <div class="mb-3">
        <h5 class="mb-2">Nome Prodotto</h5>
        <input type="text"
               class="form-control"
               id="productName"
               name="productName"
               required>
      </div>

      <div class="mb-3">
        <h5 class="mb-2">Prezzo (€)</h5>
        <input type="number"
               class="form-control"
               id="productPrice"
               name="price"
               min="0"
               step="0.01"
               required>
      </div>

      <div class="product-rating-detail mb-2 mt-4">
        <i class="bi bi-star-fill"></i>
        <i class="bi bi-star-fill"></i>
        <i class="bi bi-star-fill"></i>
        <i class="bi bi-star-half"></i>
        <i class="bi bi-star"></i>
        <span class="ms-1 text-muted">(N. Valutazioni)</span>
      </div>
    </div>
  </div>

  <!-- DESCRIPTION -->
  <div class="row mt-4">
    <div class="col-12">
      <h5 class="mb-2">Descrizione Prodotto</h5>
      <textarea class="form-control"
                id="productDescription"
                name="description"
                rows="5"
                required></textarea>
    </div>
  </div>

  <!-- SUBMIT BUTTON -->
  <div class="row mt-4">
    <div class="col-12 text-center">
      <button type="submit"
              class="btn px-4"
              style="
                background-color: var(--primary-color);
                border-color:     var(--primary-color);
                color:            #fff;
              ">
        Salva cambiamenti
      </button>
    </div>
  </div>
</form>




        <div class="row mb-5">
            <div class="col-12">
                <h3 class="customer-reviews-title mb-4">Recensioni dei clienti</h3>

                <div class="customer-review-box mb-3" id="reviewsContainer">
                    <div class="review-header d-flex justify-content-between align-items-center mb-1">
                        <span class="review-customer-name">Mario Rossi</span>
                        <span class="review-date">20/05/2025 10:30</span>
                    </div>
                    <div class="review-rating-title d-flex align-items-center mb-2">
                        <span class="review-stars me-2">
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star-fill"></i>
                            <i class="bi bi-star"></i>
                        </span>
                        <strong class="review-object">Prodotto eccellente!</strong>
                    </div>
                    <div class="review-body d-flex align-items-start">
                        <div class="review-image-container me-3">
                            <img src="https://via.placeholder.com/120x120?text=IMG+Utente" alt="Foto recensione cliente"
                                class="review-customer-photo">
                        </div>
                        <div class="review-text-content flex-grow-1">
                            <p class="review-text">
                                Questa è una prova di recensione! Questo è il primo formato!
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script src="js/fetcher.js"></script>"
    <script src="js/modificaProdotto.js"></script>
</body>

</html>